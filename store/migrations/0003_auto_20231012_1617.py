# Generated by Django 4.2.6 on 2023-10-12 22:17

from django.db import migrations
from django.contrib.auth.models import User

from dotenv import load_dotenv
import os

load_dotenv()

def cargar_registros_iniciales(apps, schema_editor):

    USER_ADMIN_SITE = os.environ.get('USER_ADMIN_SITE')
    PASSWORD_ADMIN_SITE = os.environ.get('PASSWORD_ADMIN_SITE')
    
    user = User.objects.create_user(username=USER_ADMIN_SITE, password=PASSWORD_ADMIN_SITE, is_superuser= True, is_staff = True)

    user.save()


class Migration(migrations.Migration):
    dependencies = [
        ('store', '0002_alter_product_price'),
    ]

    operations = [
        migrations.RunPython(cargar_registros_iniciales),
    ]
